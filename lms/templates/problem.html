<%!
from django.utils.translation import ugettext as _
from xmodule.util.date_utils import get_time_display
from django.conf import settings
%>

<%namespace name='static' file='static_content.html'/>
<h2 class="problem-header">
  ${ problem['name'] }
</h2>

<div class="problem-progress"></div>

% if not problem_has_finished:
  % if problem_is_timed:
    <div class="time_limit">
      <p>
        ${_("At {start_time}, you started this exam.").format(
            start_time=get_time_display(start_time, coerce_tz=settings.TIME_ZONE))}
        <br />
        <b>
        ${_("By {end_time}, you must manually click the '{check_button}' button below!").format(
            end_time=get_time_display(end_time_to_display, coerce_tz=settings.TIME_ZONE),
            check_button=check_button)}
        </b>
      </p>
      <div class="problem-timer" data-seconds-left="${seconds_left}" data-minutes-before-warning="${minutes_before_warning}">
          You have <span class="minutes-left"></span> minutes left to complete these questions.
      </div>
    </div>
  % endif
% endif

<div class="problem" aria-live="polite" aria-relevant="all">
  ${ problem['html'] }

% if flash_message:
  <div class="capa_alert" style="opacity: 1;">${flash_message}</div>
% endif

  <div class="action">
    <input type="hidden" name="problem_id" value="${ problem['name'] }" />

    % if reset_button:
    <input class="reset" type="button" value="${_('Reset')}" />
    % endif
    % if save_button:
    <input class="save" type="button" value="${_('Save')}" />
    % endif
    % if check_button:
    <input class="check ${check_button}" type="button" data-checking="${check_button_checking}" value="${check_button}" />
    % endif
    % if answer_available:
    <button class="show"><span class="show-label">${_('Show Answer')}</span> <span class="sr">${_("Reveal Answer")}</span></button>
    % endif
    % if attempts_allowed :
    <div class="submission_feedback">
      ${_("You have used {num_used} of {num_total} submissions").format(num_used=attempts_used, num_total=attempts_allowed)}
    </div>
    % endif
  </div>
</div>